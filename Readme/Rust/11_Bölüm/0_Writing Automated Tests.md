## 🧪 Otomatik Testler Yazma (writing automated tests)

1972 tarihli “The Humble Programmer” denemesinde Edsger W. Dijkstra, “program test etme (program testing) hataların varlığını göstermede çok etkili bir yol olabilir, ancak yokluklarını göstermede umutsuzca yetersizdir” demiştir. Bu, elimizden geldiğince çok test yazmamamız gerektiği anlamına gelmez!

Programlarımızdaki doğruluk (correctness), kodumuzun yapmak istediğimiz şeyi ne ölçüde yaptığıdır. Rust, programların doğruluğu konusunda yüksek düzeyde bir hassasiyetle tasarlanmıştır, ancak doğruluk karmaşıktır ve kanıtlanması kolay değildir. Rust’ın tür sistemi (type system) bu yükün büyük bir kısmını üstlenir, fakat tür sistemi her şeyi yakalayamaz. Bu nedenle Rust, otomatik yazılım testleri (automated software tests) yazmayı destekler.

Diyelim ki kendisine iletilen herhangi bir sayıya 2 ekleyen `add_two` adlı bir fonksiyon (function) yazıyoruz. Bu fonksiyonun imzası (signature), bir tamsayıyı (parameter) parametre olarak kabul eder ve sonuç (result) olarak bir tamsayı döndürür. Bu fonksiyonu uygulayıp derlediğimizde, Rust şimdiye kadar öğrendiğiniz tüm tür denetimlerini (type checking) ve ödünç alma denetimlerini (borrow checking) yapar; örneğin bu fonksiyona bir `String` değeri veya geçersiz bir başvuru (reference) göndermediğimizden emin olmak için. Ancak Rust, bu fonksiyonun tam olarak niyet ettiğimiz şeyi yapacağını — örneğin parametre artı 2 yerine parametre artı 10 ya da eksi 50 döndürmeyeceğini — denetleyemez! İşte testler (tests) burada devreye girer.

Örneğin, `add_two` fonksiyonuna 3 verdiğimizde dönen değerin 5 olduğunu iddia eden doğrulamalar (assert) yazabiliriz. Kodumuzda değişiklik yaptığımızda, mevcut doğru davranışın değişmediğinden emin olmak için bu testleri her zaman çalıştırabiliriz.

Test yazmak karmaşık bir beceridir: iyi testlerin nasıl yazılacağına dair her ayrıntıyı tek bir bölümde ele alamayız; ancak bu bölümde Rust’ın test olanaklarının işleyişini tartışacağız. Testlerinizi yazarken kullanabileceğiniz açıklamalar (annotations) ve makrolardan (macros), testlerinizi çalıştırmak için sağlanan varsayılan davranış (default behavior) ve seçeneklerden (options) ve testleri birim testler (unit tests) ile tümleşik testler (integration tests) olarak nasıl düzenleyeceğinizden bahsedeceğiz.
